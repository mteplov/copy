# Домашнее задание к занятию "`11-01.md Базы данных, их типы`" - `Теплов Михаил`

### Задание 1. СУБД

### Кейс
Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать 
правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для
каждой предметной области. 

Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему? 
 
1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков.
СУБД должна гарантировать целостность и чёткую структуру данных.

```
Лучший вариант: реляционная СУБД (SQL):
PostgreSQL или Oracle / MS SQL Server (если нужен enterprise-уровень).
Плюсы выбора именно данного типа:
строгая структура данных
ACID-транзакции
высокая целостность
возможность сложных аналитических запросов (OLAP-кубов)
поддержка финансовой логики (триггеры, функции, процедуры)
```
1.1.* Хеширование стало занимать длительно время, какое API можно использовать для ускорения работы? 

``` Для ускорения хеширования:
OpenSSL EVP API (C/C++), наиболее быстрый и низкоуровневый.
libsodium — современная, оптимизированная криптобиблиотека.
bcrypt/scrypt/argon2 — если нужна безопасная обработка паролей (не просто скорость).
Если речь про приложение — стоит включить аппаратное ускорение (AES-NI) через OpenSSL EVP.
```
1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к 
маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? 
СУБД должны быть гибкими и быстрыми.
```
СУБД для лендингов:
NoSQL документная (MongoDB, Couchbase).
Причина выбора:  Быстрое добавление данных, изменяемые формы, высокая скорость записи.

СУБД для CRM:
Реляционная SQL (PostgreSQL, MySQL).
Причина выбора: CRM требует строгих связей, ACID, стабильности транзакций.
```

1.2.* Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?
Можно ли закрыть одной СУБД: Да.

```
Одной версией СУБД можно закрыть данную задачу если использовать PostgreSQL.
Потому что:  Имеет JSONB для гибких данных лендингов,  имеет строгие таблицы для CRM,
высокая производительность + GIN индексы для JSONB.
```
1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу 
и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.
```
Использовать PostgreSQL потому как простая структура, хорошо подходит для хранения документов,
иерархий, текстов, есть полнотекстовый поиск (tsvector).
```
1.3.* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это 
реализовать?
```
Можно использовав PostgreSQL из п.1.1 или 1.2. если смотреть в разрезе реализации:
создать отдельную схему (например, knowledge_base), использовать таблицы для разделов,
 документов, тегов, включить полнотекстовый поиск.
```
1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов 
по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать
со связями.
```
Выбор СУБД: Графовая.
 Примеры: Neo4j, ArangoDB, JanusGraph.
Приоритеры вырабора:
1. Маршруты = граф.
2. Требуются быстрые операции по связям (shortest path, Dijkstra, A*).
3. Графовые СУБД дают максимальную скорость работы со связями.
```
1.4.* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД 
логистов?

```
Да можно 
Да, если данные тесно связаны с логистикой (поставщики → склад → объект).
Лучше: использовать ту же графовую СУБД, расширив модель новыми вершинами.
Альтернатива: отдельная реляционная СУБД + интеграция через API.
```
1.5.* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?
 ```
Да можно испрользовав  PostgreSQL.
Потому как:
1. Поддерживает строгие схемы (финансы, CRM).
2. Поддерживает JSONB (лендинги).
3. Поддерживает PostGIS + pgRouting (логистика, маршруты).
4. Поддерживает полнотекстовый поиск (база знаний).
5. Универсальный вариант для всех типов данных.
   ```
*Приведите ответ в свободной форме.*

---

### Задание 2. Транзакции

2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы 
транзакция завершилась успешно. Ориентируйтесь на шесть действий.

```
1. Пользователь инициирует платёж и вводит сумму.
2. Система проверяет доступность средств на платёжном инструменте.
3. Сумма блокируется (hold) банком.
4. Оператор связи создаёт операцию пополнения (статус «ожидает»).
5. Банк перечисляет деньги оператору связи.
6. Оператор зачисляет средства на номер и меняет статус на «успешно».
```
2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?
```
1. Система проверяет условия автоплатежа (дата, лимит, остаток).
2. Автоматически создаёт заявку на платёж.
3. Банк автоматически блокирует сумму.
4. Выполняется перечисление оператору.
5. Оператор зачисляет средства.
6. Отправляется уведомление пользователю.
```
*Приведите ответ в свободной форме.*

---

### Задание 3. SQL vs NoSQL

3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL.
```
1. Строгая структура данных и схема.
2. ACID-транзакции и высокая надёжность.
3. Поддержка сложных запросов (JOIN, аналитика).
4. Зрелые оптимизаторы и инструменты.
5. Портируемый язык SQL — общий стандарт.
   ```

3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.
```
1. Масштабируется горизонтально, как NoSQL.
2. Даёт ACID-транзакции, как SQL.
3. Предоставляет высокую производительность на больших нагрузках.
4. Использует SQL-язык — простая интеграция.
5. Подходит для высоконагруженных распределённых систем.
```
*Приведите ответ в свободной форме.*

---

### Задание 4. Кластеры

Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу 
выделено 1000 машин. 

На основе какого критерия будете выбирать тип СУБД и какая модель *распределённых вычислений* 
здесь справится лучше всего и почему?
```
Критерий выбора СУБД:
Масштабируемость и возможность распараллеливания вычислений.
Поддержка работы с огромными объёмами данных.

Подходящая модель вычислений:
MPP (Massively Parallel Processing).

Причины выбора:

1. Делит запросы на независимые части.
2. Выполняет вычисления параллельно на 1000 узловах.
3. Значительно ускоряет обработку больших данных.

Примеры подходящих систем:

1. ClickHouse (MPP). 
2. Hadoop + Spark SQL.
3. VK Cloud ClickHouse (в облаке).
```
*Приведите ответ в свободной форме.*

---
